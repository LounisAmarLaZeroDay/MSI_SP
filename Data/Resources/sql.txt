CREATE TABLE USERS (
  ID             INTEGER NOT NULL,
  NAME           VARCHAR(25),
  DESCRIPTION    VARCHAR(250),
  CODE           VARCHAR(25),
  "FIRSTNAME"    VARCHAR(25),
  "LASTNAME"     VARCHAR(25),
  GENDER         VARCHAR(25),
  ADDRESS        VARCHAR(25),
  CITY           VARCHAR(25),
  COUNTRY        VARCHAR(25),
  PHONE          VARCHAR(25),
  FAX            VARCHAR(25),
  WEBSITE        VARCHAR(25),
  EMAIL          VARCHAR(25),
  "PASSWORD"     VARCHAR(25), 
  
  BIRTHDAY       TIMESTAMP,
  
  PICTURE        BLOB SUB_TYPE BINARY,
  
  MONEY_ACCOUNT  DOUBLE PRECISION NOT NULL,
  "TYPE"         INTEGER NOT NULL

) ;

CREATE TABLE USERS_TYPE (
  ID             INTEGER NOT NULL,
  
  NAME           VARCHAR(25),
  DESCRIPTION    VARCHAR(25),
  ACCESS         VARCHAR(25)
) ;

CREATE TABLE WHOLESALERS (
  ID             INTEGER NOT NULL,
  NAME           VARCHAR(25),
  DESCRIPTION    VARCHAR(25),
  CODE           VARCHAR(25),
  "FIRSTNAME"    VARCHAR(25),
  "LASTNAME"     VARCHAR(25),
  GENDER         VARCHAR(25),
  ADDRESS        VARCHAR(25),
  CITY           VARCHAR(25),
  COUNTRY        VARCHAR(25),
  PHONE          VARCHAR(25),
  FAX            VARCHAR(25),
  WEBSITE        VARCHAR(25),
  EMAIL          VARCHAR(25),
  
  BIRTHDAY       TIMESTAMP,
  
  PICTURE        BLOB SUB_TYPE BINARY,
  
  MONEY_ACCOUNT  DOUBLE PRECISION NOT NULL,
  "TYPE"         INTEGER NOT NULL
) ;

CREATE TABLE WHOLESALERS_TYPE (
  ID             INTEGER NOT NULL,
  
  NAME           VARCHAR(25),
  DESCRIPTION    VARCHAR(25)
) ;


CREATE TABLE CUSTOMERS (
  ID             INTEGER NOT NULL,
  NAME           VARCHAR(25),
  DESCRIPTION    VARCHAR(25),
  CODE           VARCHAR(25),
  "FIRSTNAME"    VARCHAR(25),
  "LASTNAME"     VARCHAR(25),
  GENDER         VARCHAR(25),
  ADDRESS        VARCHAR(25),
  CITY           VARCHAR(25),
  COUNTRY        VARCHAR(25),
  PHONE          VARCHAR(25),
  FAX            VARCHAR(25),
  WEBSITE        VARCHAR(25),
  EMAIL          VARCHAR(25),
  
  BIRTHDAY       TIMESTAMP,
  
  PICTURE        BLOB SUB_TYPE BINARY,
  
  MONEY_ACCOUNT  DOUBLE PRECISION NOT NULL,
  "TYPE"         INTEGER NOT NULL
) ;

CREATE TABLE CUSTOMERS_TYPE (
  ID             INTEGER NOT NULL,
  
  NAME           VARCHAR(25),
  DESCRIPTION    VARCHAR(25)
) ;


CREATE TABLE PRODUCTS (
  ID                    INTEGER NOT NULL,
  NAME                  VARCHAR(25),
  DESCRIPTION           VARCHAR(25),
  CODE                  VARCHAR(25),
  
  IMPORTANCE            DOUBLE PRECISION NOT NULL,
  QUANTITY              DOUBLE PRECISION NOT NULL,
  QUANTITY_MIN          DOUBLE PRECISION NOT NULL,
  TAX_PERCE             DOUBLE PRECISION NOT NULL,
  MONEY_PURCHASE        DOUBLE PRECISION NOT NULL,
  MONEY_SELLING_1  		DOUBLE PRECISION NOT NULL,
  MONEY_SELLING_2       DOUBLE PRECISION NOT NULL,
  MONEY_SELLING_3       DOUBLE PRECISION NOT NULL,
  MONEY_SELLING_4       DOUBLE PRECISION NOT NULL,
  MONEY_SELLING_5       DOUBLE PRECISION NOT NULL,
  MONEY_SELLING_MIN     DOUBLE PRECISION NOT NULL,
  
  DATE_PRODUCTION       TIMESTAMP,
  DATE_PURCHASE         TIMESTAMP,
  DATE_EXPIRATION       TIMESTAMP,
  
  PICTURE               BLOB SUB_TYPE BINARY,
  
  "TYPE"                INTEGER NOT NULL,
  TYPE_UNITE            INTEGER NOT NULL
) ;

CREATE TABLE PRODUCTS_TYPE (
  ID                    INTEGER NOT NULL,
  
  NAME                  VARCHAR(25),
  DESCRIPTION           VARCHAR(25)
) ;
CREATE TABLE PRODUCTS_UNITE_TYPE (
  ID                    INTEGER NOT NULL NOT NULL,
  
  NAME                  VARCHAR(25),
  DESCRIPTION           VARCHAR(25)
) ;

CREATE TABLE PRODUCTS_PURCHASES (
  ID                     INTEGER NOT NULL,
  ID_PRODUCTS            INTEGER,
  ID_INVOICES_PURCHASES  INTEGER,
  
  MONEY_UNIT             DOUBLE PRECISION NOT NULL,
  QUANTITY               DOUBLE PRECISION NOT NULL,
  TAX_PERCE              DOUBLE PRECISION NOT NULL,
  STAMP                  DOUBLE PRECISION NOT NULL
) ;


CREATE TABLE PRODUCTS_SELLS (
  ID                     INTEGER NOT NULL,
  ID_PRODUCTS            INTEGER,
  ID_INVOICES_SELLS      INTEGER,
  
  MONEY_UNIT             DOUBLE PRECISION NOT NULL,
  QUANTITY               DOUBLE PRECISION NOT NULL,
  TAX_PERCE              DOUBLE PRECISION NOT NULL,
  STAMP                  DOUBLE PRECISION NOT NULL
) ;

CREATE TABLE INVOICES_PURCHASES (
  ID                     INTEGER NOT NULL,
  ID_USERS               INTEGER,
  ID_WHOLESALERS         INTEGER,
  
  DESCRIPTION            VARCHAR(25),
	
  "DATE"                 TIMESTAMP,

  VALIDATION             INTEGER NOT NULL,
  
  MONEY_WITHOUT_ADDEDD   DOUBLE PRECISION NOT NULL,
  MONEY_TAX              DOUBLE PRECISION NOT NULL,
  MONEY_STAMP            DOUBLE PRECISION NOT NULL,
  MONEY_TOTAL            DOUBLE PRECISION NOT NULL,
  MONEY_PAID             DOUBLE PRECISION NOT NULL,
  MONEY_UNPAID           DOUBLE PRECISION NOT NULL
) ;

CREATE TABLE INVOICES_SELLS (
  ID                     INTEGER NOT NULL,
  ID_USERS               INTEGER,
  ID_CUSTOMERS           INTEGER,
  
  DESCRIPTION            VARCHAR(25),
  
  "DATE"                 TIMESTAMP,

  VALIDATION             INTEGER NOT NULL,
  
  MONEY_WITHOUT_ADDEDD   DOUBLE PRECISION NOT NULL,
  MONEY_TAX              DOUBLE PRECISION NOT NULL,
  MONEY_STAMP            DOUBLE PRECISION NOT NULL,
  MONEY_TOTAL            DOUBLE PRECISION NOT NULL,
  MONEY_PAID             DOUBLE PRECISION NOT NULL,
  MONEY_UNPAID           DOUBLE PRECISION NOT NULL
) ;

/* Constraints */
ALTER TABLE USERS
  ADD PRIMARY KEY (ID);

ALTER TABLE WHOLESALERS
  ADD PRIMARY KEY (ID);
  
ALTER TABLE CUSTOMERS
  ADD PRIMARY KEY (ID);

ALTER TABLE PRODUCTS
  ADD PRIMARY KEY (ID);
  
ALTER TABLE PRODUCTS_PURCHASES
  ADD PRIMARY KEY (ID);

ALTER TABLE PRODUCTS_SELLS
  ADD PRIMARY KEY (ID);

ALTER TABLE INVOICES_PURCHASES
  ADD CONSTRAINT PK_INVOICES_PURCHASES
  PRIMARY KEY (ID);

ALTER TABLE INVOICES_SELLS
  ADD PRIMARY KEY (ID);

/* Foreign Keys */
ALTER TABLE INVOICES_PURCHASES
  ADD CONSTRAINT INVOICES_PURCHASES_U
  FOREIGN KEY (ID_USERS)
    REFERENCES USERS(ID)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE INVOICES_PURCHASES
  ADD CONSTRAINT INVOICES_PURCHASES_W
  FOREIGN KEY (ID_WHOLESALERS)
    REFERENCES WHOLESALERS(ID)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE PRODUCTS_PURCHASES
  ADD CONSTRAINT PRODUCTS_PURCHASES_P
  FOREIGN KEY (ID_PRODUCTS)
    REFERENCES PRODUCTS(ID)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE PRODUCTS_PURCHASES
  ADD CONSTRAINT INVOICES_PURCHASES_I
  FOREIGN KEY (ID_INVOICES_PURCHASES)
    REFERENCES INVOICES_PURCHASES(ID)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE INVOICES_SELLS
  ADD CONSTRAINT INVOICES_SELLS_C
  FOREIGN KEY (ID_CUSTOMERS)
    REFERENCES CUSTOMERS(ID)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE INVOICES_SELLS
  ADD CONSTRAINT INVOICES_SELLS_U
  FOREIGN KEY (ID_USERS)
    REFERENCES USERS(ID)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE PRODUCTS_SELLS
  ADD CONSTRAINT PRODUCTS_SELLS_P
  FOREIGN KEY (ID_PRODUCTS)
    REFERENCES PRODUCTS(ID)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE PRODUCTS_SELLS
  ADD CONSTRAINT PRODUCTS_SELLS_I
  FOREIGN KEY (ID_INVOICES_SELLS)
    REFERENCES INVOICES_SELLS(ID)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
